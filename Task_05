from kivy.app import App
from kivy.uix.button import Button
from kivy.uix.label import Label
import RPi.GPIO as GPIO


class ButtonApp(App):
   def build(self):
     self.button = Button(text="Allumer la led", font_size=80)
     return self.button


def on_stop(self) :
    GPIO.cleanup() # Nettoie les GPIO Ã  la fermeture



def destroy():
    #Turn Off LED
    #GPIO.output(ledPin, GPIO.LOW)
    #Release resource
    GPIO.cleanup()

#If run this script directly, do:
if __name__ == '__main__':
    destroy()
    try:
        ButtonApp().run()
    #When 'Ctrl+C' is pressed, the child program 
    # destroy() will be  executed
    except KeyboardInterrupt:
        destroy()
    finally:
        print("destroy")
        destroy()
